<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>New user</title>
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}"/>
    <link rel="stylesheet" th:href="@{/style.css}" />
</head>
<body>
<div class="container">
    <div>
        <h2 class="text-center">Add new user</h2>
        <form th:action="@{/users/save}" method="post" th:object="${userDto}" style="max-width: 600px; margin: 0 auto;">
            <div class="border border-secondary rounded p-3">
                <!--                    <input type="hidden" th:field="*{id}" />-->

                <div class="form-group row py-1">
                    <label class="col-sm-4 form-label ">First name : </label>
                    <div class="col-sm-8">
                        <input type="text" th:field="*{firstName}" class="form-control"/>
                    </div>
                    <span class="validationError"
                          th:if="${#fields.hasErrors('firstName')}"
                          th:errors="*{firstName}">First name Error</span>
                </div>

                <div class="form-group row py-1">
                    <label class="col-sm-4 form-label ">Last name : </label>
                    <div class="col-sm-8">
                        <input type="text" th:field="*{lastName}" class="form-control"/>
                    </div>
                    <span class="validationError"
                          th:if="${#fields.hasErrors('lastName')}"
                          th:errors="*{lastName}">Last name Error</span>
                </div>

                <div class="form-group row py-1">
                    <label class="col-sm-4 form-label ">Phone number : </label>
                    <div class="col-sm-8">
                        <input type="text" th:field="*{phoneNumber}" class="form-control"/>
                    </div>
                    <span class="validationError"
                          th:if="${#fields.hasErrors('phoneNumber')}"
                          th:errors="*{phoneNumber}">Phone number Error</span>
                </div>

                <div class="form-group row py-1">
                    <label class="col-sm-4 form-label">Email : </label>
                    <div class="col-sm-8">
                        <input type="email" th:field="*{email}" class="form-control">
                    </div>
                    <span class="validationError"
                          th:if="${#fields.hasErrors('email')}"
                          th:errors="*{email}">Email Error</span>
                </div>

                <div class="form-group row py-1">
                    <label class="col-sm-4 form-label ">Type : </label>
                    <div class="col-sm-8">
                        <select class="form-select" th:field="*{userRole}">
                            <option th:value="ADMINISTRATOR" th:text="Administrator"></option>
                            <option th:value="MODERATOR" th:text="Moderator"></option>
                            <option th:value="USER" th:text="User"></option>
                        </select>
                    </div>
                    <!--                        <div class="col-sm-8 text-left" th:unless="${!#strings.contains(#httpServletRequest.requestURI, 'users/edit')}">-->
                    <!--                            <input type="hidden" th:field="*{userRole}" th:value="*{userRole}" th:text="${#strings.substringAfter(user.getUserRole(), 'ROLE_')}" />-->
                    <!--                        </div>-->
                </div>

                <div class="form-group row py-1">
                    <label class="col-sm-4 form-label">Password : </label>
                    <div class="col-sm-8">
                        <input type="password" th:field="*{password}" class="form-control"/>
                    </div>
                    <span class="validationError"
                          th:if="${#fields.hasErrors('password')}"
                          th:errors="*{password}">Password Error</span>
                </div>

                <div class="form-group row py-1">
                    <label class="col-sm-4 form-label">Confirm password : </label>
                    <div class="col-sm-8">
                        <input type="password" th:field="*{passwordConfirmation}" class="form-control"/>
                    </div>
                    <span class="validationError"
                          th:if="${#fields.hasErrors('passwordConfirmation')}"
                          th:errors="*{passwordConfirmation}">Confirm password Error</span>
                </div>

                <div class="text-center py-2">
                    <button class="btn btn-primary m-2" type="submit">Save</button>
                    <a class="btn btn-secondary m-2" th:href="@{/users}">Cancel</a>
                </div>


            </div>
        </form>
    </div>
</div>
</body>
</html>